{"version":3,"sources":["index.ts"],"names":[],"mappings":"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","file":"src.37270ff2.map","sourceRoot":"../src","sourcesContent":["// PVector2D with a nicer name.\nclass Vec2D {\n\tx: number\n\ty: number\n\n\tconstructor(x = 0, y = 0) {\n\t\tthis.x = x\n\t\tthis.y = y\n\t}\n\n\tdraw (ctx, size = 2) {\n\t\tctx.beginPath()\n\t\tctx.arc(this.x, this.y, size, 0, Math.PI * 2, true);\n\t\tctx.fill()\n\t}\n}\n\nclass Shape2D {\n\tposition: Vec2D\n\n\tconstructor () {\n\t\tthis.position = new Vec2D(0, 0)\n\t}\n}\n\nclass Box2D extends Shape2D {\n\tfrom: Vec2D\n\tto: Vec2D\n\n\tconstructor (from: Vec2D, to: Vec2D) {\n\t\tsuper()\n\t\tthis.from = from\n\t\tthis.to = to\n\t}\n\n\tcontains (point: Vec2D): boolean {\n\t\tlet from = this.from\n\t\tlet to = this.to\n\n\t\tfrom.x += this.position.x\n\t\tfrom.y += this.position.y\n\n\t\tto.x += this.position.x\n\t\tto.y += this.position.y \n\n\t\tif (from.x < point.x && point.x < to.x && from.y < point.y && point.y < to.y) {\n\t\t\treturn true\t\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n\n\tdraw (ctx) {\n\t\tctx.beginPath()\n\t\tctx.rect(this.position.x, this.position.y, this.to.x - this.from.x, this.to.y - this.from.x)\n\t\tctx.stroke()\n\t}\n}\n\nclass Polygon2D extends Shape2D {\n\tpoints: Vec2D[]\n\tconstructor (points = []) {\n\t\tsuper()\n\t\tthis.points = points\n\t}\n\n\tboundingBox(): Box2D {\n\t\tconst min = new Vec2D\n\t\tconst max = new Vec2D\n\n\t\tfor (const point of this.points) {\n\t\t\tif (point.x < min.x) {\n\t\t\t\tmin.x = point.x\n\t\t\t} else if (point.x > max.x) {\n\t\t\t\tmax.x = point.x\n\t\t\t}\n\n\t\t\tif (point.y < min.y) {\n\t\t\t\tmin.y = point.y\n\t\t\t} else if (point.y > max.y) {\n\t\t\t\tmax.y = point.y\n\t\t\t}\n\t\t}\n\t\tmin.x += this.position.x\n\t\tmax.x += this.position.x\n\n\t\tmin.y += this.position.y\n\t\tmax.y += this.position.y\n\n\t\tconst box = new Box2D(min, max)\n\t\treturn box\n\t}\n\n\tcontains(point: Vec2D): boolean {\n\t\tif (this.boundingBox().contains(point)) {\n\t\t\tlet inside = false\n\t\t\tfor (let i = 0, n = this.points.length - 1; i < this.points.length; n = i++) {\n\t\t\t\tlet vec = this.points[i]\n\t\t\t\tlet vecNext = this.points[n]\n\n\t\t\t\tvec.x += this.position.x\n\t\t\t\tvec.y += this.position.y\n\t\t\t\tvecNext.x += this.position.x\n\t\t\t\tvecNext.y += this.position.y\n\n        if(((vec.y > point.y) != (vecNext.y > point.y)) && (point.x < (vecNext.x - vec.x) * (point.y - vec.y) / (vecNext.y - vec.y) + vec.x) ) inside = !inside;\n\t\t\t}\n\t\t\treturn inside\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n\n\tdraw (ctx) {\n\t\tctx.beginPath()\n\t\tfor (let point of this.points) {\n\t\t\tctx.lineTo(point.x + this.position.x, point.y + this.position.y)\n\t\t}\n\t\tctx.lineTo(this.points[0].x + this.position.x, this.points[0].y + this.position.y)\n\t\tctx.stroke()\n\t}\n}\n\n\n var canvas = <HTMLCanvasElement>document.getElementById(\"canvas\");\n var ctx = canvas.getContext(\"2d\")\n\nlet vertices: Vec2D[] = []\nvertices[0] = new Vec2D(0,0);     // set X/Y position\nvertices[1] = new Vec2D(200,30);\nvertices[2] = new Vec2D(150,200);\nvertices[3] = new Vec2D(50,200);\n\nlet shape = new Polygon2D(vertices)\nshape.position.x = 200\nshape.position.y = 200\nshape.draw(ctx)\nlet point = new Vec2D(250, 255)\nctx.fillStyle = \"red\"\npoint.draw(ctx)\nctx.fillStyle = \"black\"\nconsole.log(shape.contains(point))"]}